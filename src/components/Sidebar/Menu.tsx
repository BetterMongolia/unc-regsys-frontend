import { CloseButton, VStack, Box, Flex, Icon } from "@chakra-ui/react";
import {
  EventIcon,
  DocIcon,
  TeamIcon,
  RegisterIcon,
  PaymentIcon,
} from "../Icons";
import { useRouter } from "next/router";
import React from "react";
import Link from "next/link";
import UserProfile from "../UserProfile";
import Image from "next/image";

const Logo = () => {
  return (
    <Box h="14">
      
        <Image alt="" src="/assets/logo.png" height="27px" width="180px" />
      {/* <svg
        width="174"
        height="56"
        viewBox="0 0 174 36"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M0.206079 34.333H9.00802V15.1077L18.0416 26.4576L27.0751 15.1077V34.333H35.8771V1.90482H28.0017L18.0416 14.4128L8.0815 1.90482H0.206079V34.333ZM30.0719 29.7004C30.9521 30.7659 32.0176 31.6924 33.2684 32.48C35.4457 33.9161 38.5958 35.2595 43.0431 35.2595C50.9649 35.2595 55.7828 30.3953 55.7828 24.8362C55.7828 13.4863 40.4952 15.3394 40.4952 10.9384C40.4952 9.78024 41.607 8.62209 44.2013 8.62209C45.8227 8.62209 47.1661 9.22432 48.0927 9.91922C48.6486 10.2898 49.1118 10.7068 49.5288 11.17L54.6246 5.6109C53.8834 4.7307 52.9569 3.98949 51.8914 3.2946C50.0384 2.13645 47.2125 0.9783 43.2748 0.9783C35.631 0.9783 30.9984 5.84253 30.9984 10.9384C30.9984 22.2883 46.286 20.4352 46.286 24.8362C46.286 26.2723 44.8962 27.6157 42.1166 27.6157C40.0319 27.6157 38.3179 26.7819 37.0671 25.9017C36.3722 25.3921 35.7236 24.7899 35.1677 24.1413L30.0719 29.7004ZM75.256 22.9831C74.5148 23.7707 73.6809 24.4656 72.7544 25.0678C71.133 26.1333 69.0483 27.1525 66.454 27.1525C61.3582 27.1525 57.4205 23.2148 57.4205 18.1189C57.4205 13.0694 61.3582 9.08535 66.454 9.08535C69.0483 9.08535 71.133 10.1045 72.6617 11.17C73.5419 11.7723 74.3295 12.4671 75.0243 13.2547L80.3518 7.23231C79.379 6.07416 78.2208 5.05499 76.8774 4.12847C74.5148 2.50706 71.0866 0.9783 66.454 0.9783C56.077 0.9783 48.3869 8.62209 48.3869 18.1189C48.3869 27.6157 56.077 35.2595 66.454 35.2595C71.0866 35.2595 74.6074 33.7771 76.97 32.1557C78.3598 31.2292 79.5643 30.1637 80.5835 29.0055L75.256 22.9831Z"
          fill="white"
        />
        <path
          d="M86.2155 11.1924H87.5081V5.14085L90.5044 8.95978L93.5008 5.14085V11.1924H94.7934V2.967H93.6183L90.5044 6.96219L87.3906 2.967H86.2155V11.1924ZM97.9036 7.07969C97.9036 5.37586 99.2549 4.02455 100.959 4.02455C102.663 4.02455 104.014 5.37586 104.014 7.07969C104.014 8.78352 102.663 10.1348 100.959 10.1348C99.2549 10.1348 97.9036 8.78352 97.9036 7.07969ZM96.6111 7.07969C96.6111 9.4298 98.4911 11.3099 100.959 11.3099C103.426 11.3099 105.306 9.4298 105.306 7.07969C105.306 4.72959 103.426 2.8495 100.959 2.8495C98.4911 2.8495 96.6111 4.72959 96.6111 7.07969ZM107.123 11.1924H108.416V5.14085L112.94 11.1924H114.115V2.967H112.822V9.01853L108.298 2.967H107.123V11.1924ZM120.812 8.01974H122.515V9.25354C122.363 9.41805 122.175 9.57081 121.951 9.70006C121.575 9.92332 121.023 10.1348 120.283 10.1348C118.579 10.1348 117.228 8.78352 117.228 7.07969C117.228 5.37586 118.579 4.02455 120.283 4.02455C121.129 4.02455 121.763 4.33007 122.186 4.64733C122.433 4.82359 122.645 5.0351 122.809 5.25836L123.632 4.43582C123.397 4.14206 123.115 3.88355 122.798 3.64854C122.233 3.23727 121.411 2.8495 120.283 2.8495C117.815 2.8495 115.935 4.72959 115.935 7.07969C115.935 9.4298 117.815 11.3099 120.283 11.3099C121.423 11.3099 122.304 10.9339 122.903 10.5226C123.256 10.2876 123.561 10.0173 123.808 9.72357V6.84468H120.812V8.01974ZM126.683 7.07969C126.683 5.37586 128.035 4.02455 129.738 4.02455C131.442 4.02455 132.794 5.37586 132.794 7.07969C132.794 8.78352 131.442 10.1348 129.738 10.1348C128.035 10.1348 126.683 8.78352 126.683 7.07969ZM125.391 7.07969C125.391 9.4298 127.271 11.3099 129.738 11.3099C132.206 11.3099 134.086 9.4298 134.086 7.07969C134.086 4.72959 132.206 2.8495 129.738 2.8495C127.271 2.8495 125.391 4.72959 125.391 7.07969ZM135.903 11.1924H141.191V9.95858H137.195V2.967H135.903V11.1924ZM142.604 11.1924H143.897V2.967H142.604V11.1924ZM145.184 11.1924H146.536L147.358 9.07729H151.001L151.823 11.1924H153.175L149.885 2.967H148.475L145.184 11.1924ZM147.828 7.90223L149.18 4.49457L150.531 7.90223H147.828ZM154.47 11.1924H155.762V5.14085L160.286 11.1924H161.461V2.967H160.169V9.01853L155.645 2.967H154.47V11.1924ZM85.393 21.0761C85.5927 21.3111 85.8277 21.5226 86.1097 21.6989C86.5915 22.0161 87.3318 22.3099 88.3306 22.3099C90.1519 22.3099 91.2682 21.1936 91.2682 19.901C91.2682 16.8459 86.9205 17.9622 86.9205 16.1409C86.9205 15.5416 87.4493 15.0246 88.4481 15.0246C89.0004 15.0246 89.4351 15.2243 89.7172 15.4123C89.8817 15.5181 90.0227 15.6473 90.1519 15.7883L91.0332 14.907C90.857 14.7073 90.6337 14.531 90.3752 14.3783C89.9404 14.108 89.2941 13.8495 88.4481 13.8495C86.6973 13.8495 85.628 14.907 85.628 16.1409C85.628 19.196 89.9757 18.0797 89.9757 19.901C89.9757 20.5591 89.3999 21.1348 88.3306 21.1348C87.6256 21.1348 87.1085 20.8998 86.7678 20.6648C86.568 20.5238 86.4035 20.371 86.2743 20.1948L85.393 21.0761ZM92.917 22.1924H94.2095V19.2547H96.2071C97.8052 19.2547 98.9685 18.0797 98.9685 16.6109C98.9685 15.1421 97.8052 13.967 96.2071 13.967H92.917V22.1924ZM94.2095 18.0797V15.1421H96.2071C97.0297 15.1421 97.6759 15.7883 97.6759 16.6109C97.6759 17.4334 97.0297 18.0797 96.2071 18.0797H94.2095ZM101.438 18.0797C101.438 16.3759 102.789 15.0246 104.493 15.0246C106.197 15.0246 107.548 16.3759 107.548 18.0797C107.548 19.7835 106.197 21.1348 104.493 21.1348C102.789 21.1348 101.438 19.7835 101.438 18.0797ZM100.145 18.0797C100.145 20.4298 102.025 22.3099 104.493 22.3099C106.961 22.3099 108.841 20.4298 108.841 18.0797C108.841 15.7296 106.961 13.8495 104.493 13.8495C102.025 13.8495 100.145 15.7296 100.145 18.0797ZM110.658 22.1924H111.95V19.1372H113.889L115.593 22.1924H117.062L115.193 18.9022C115.487 18.7847 115.746 18.6202 115.981 18.4087C116.368 18.0444 116.768 17.4804 116.768 16.5521C116.768 15.0951 115.652 13.967 114.065 13.967H110.658V22.1924ZM111.95 17.9622V15.1421H114.065C114.899 15.1421 115.475 15.7178 115.475 16.5521C115.475 17.3864 114.899 17.9622 114.065 17.9622H111.95ZM120.069 22.1924H121.361V15.2008H123.829V13.967H117.601V15.2008H120.069V22.1924ZM124.42 21.0761C124.62 21.3111 124.855 21.5226 125.137 21.6989C125.618 22.0161 126.359 22.3099 127.358 22.3099C129.179 22.3099 130.295 21.1936 130.295 19.901C130.295 16.8459 125.947 17.9622 125.947 16.1409C125.947 15.5416 126.476 15.0246 127.475 15.0246C128.027 15.0246 128.462 15.2243 128.744 15.4123C128.909 15.5181 129.05 15.6473 129.179 15.7883L130.06 14.907C129.884 14.7073 129.661 14.531 129.402 14.3783C128.967 14.108 128.321 13.8495 127.475 13.8495C125.724 13.8495 124.655 14.907 124.655 16.1409C124.655 19.196 129.003 18.0797 129.003 19.901C129.003 20.5591 128.427 21.1348 127.358 21.1348C126.653 21.1348 126.135 20.8998 125.795 20.6648C125.595 20.5238 125.43 20.371 125.301 20.1948L124.42 21.0761ZM92.6195 30.8423C92.4433 31.089 92.22 31.3005 91.9615 31.4886C91.5267 31.8176 90.8805 32.1348 90.0344 32.1348C88.3306 32.1348 86.9793 30.7835 86.9793 29.0797C86.9793 27.3759 88.3306 26.0246 90.0344 26.0246C90.8805 26.0246 91.515 26.3301 91.938 26.6473C92.1848 26.8236 92.3963 27.0351 92.5608 27.2584L93.3833 26.4358C93.1483 26.1421 92.8663 25.8835 92.549 25.6485C91.985 25.2373 91.1625 24.8495 90.0344 24.8495C87.5668 24.8495 85.6867 26.7296 85.6867 29.0797C85.6867 31.4298 87.5668 33.3099 90.0344 33.3099C91.1625 33.3099 91.9968 32.8986 92.5725 32.4874C92.9133 32.2406 93.1953 31.9703 93.4421 31.6648L92.6195 30.8423ZM95.5053 29.0797C95.5053 27.3759 96.8566 26.0246 98.5605 26.0246C100.264 26.0246 101.616 27.3759 101.616 29.0797C101.616 30.7835 100.264 32.1348 98.5605 32.1348C96.8566 32.1348 95.5053 30.7835 95.5053 29.0797ZM94.2127 29.0797C94.2127 31.4298 96.0928 33.3099 98.5605 33.3099C101.028 33.3099 102.908 31.4298 102.908 29.0797C102.908 26.7296 101.028 24.8495 98.5605 24.8495C96.0928 24.8495 94.2127 26.7296 94.2127 29.0797ZM104.725 33.1924H106.017V30.1372H107.956L109.66 33.1924H111.129L109.261 29.9022C109.554 29.7847 109.813 29.6202 110.048 29.4087C110.436 29.0444 110.835 28.4804 110.835 27.5521C110.835 26.0951 109.719 24.967 108.133 24.967H104.725V33.1924ZM106.017 28.9622V26.1421H108.133C108.967 26.1421 109.543 26.7178 109.543 27.5521C109.543 28.3864 108.967 28.9622 108.133 28.9622H106.017ZM112.838 33.1924H114.13V30.2547H116.128C117.726 30.2547 118.889 29.0797 118.889 27.6109C118.889 26.1421 117.726 24.967 116.128 24.967H112.838V33.1924ZM114.13 29.0797V26.1421H116.128C116.951 26.1421 117.597 26.7883 117.597 27.6109C117.597 28.4334 116.951 29.0797 116.128 29.0797H114.13ZM121.359 29.0797C121.359 27.3759 122.71 26.0246 124.414 26.0246C126.118 26.0246 127.469 27.3759 127.469 29.0797C127.469 30.7835 126.118 32.1348 124.414 32.1348C122.71 32.1348 121.359 30.7835 121.359 29.0797ZM120.066 29.0797C120.066 31.4298 121.946 33.3099 124.414 33.3099C126.882 33.3099 128.762 31.4298 128.762 29.0797C128.762 26.7296 126.882 24.8495 124.414 24.8495C121.946 24.8495 120.066 26.7296 120.066 29.0797ZM130.578 33.1924H131.871V30.1372H133.81L135.514 33.1924H136.982L135.114 29.9022C135.408 29.7847 135.666 29.6202 135.901 29.4087C136.289 29.0444 136.689 28.4804 136.689 27.5521C136.689 26.0951 135.572 24.967 133.986 24.967H130.578V33.1924ZM131.871 28.9622V26.1421H133.986C134.82 26.1421 135.396 26.7178 135.396 27.5521C135.396 28.3864 134.82 28.9622 133.986 28.9622H131.871ZM137.634 33.1924H138.985L139.808 31.0773H143.45L144.273 33.1924H145.624L142.334 24.967H140.924L137.634 33.1924ZM140.278 29.9022L141.629 26.4946L142.98 29.9022H140.278ZM147.747 33.1924H149.039V26.2008H151.507V24.967H145.279V26.2008H147.747V33.1924ZM152.92 33.1924H154.213V24.967H152.92V33.1924ZM157.322 29.0797C157.322 27.3759 158.673 26.0246 160.377 26.0246C162.081 26.0246 163.432 27.3759 163.432 29.0797C163.432 30.7835 162.081 32.1348 160.377 32.1348C158.673 32.1348 157.322 30.7835 157.322 29.0797ZM156.029 29.0797C156.029 31.4298 157.909 33.3099 160.377 33.3099C162.845 33.3099 164.725 31.4298 164.725 29.0797C164.725 26.7296 162.845 24.8495 160.377 24.8495C157.909 24.8495 156.029 26.7296 156.029 29.0797ZM166.541 33.1924H167.834V27.1409L172.358 33.1924H173.533V24.967H172.24V31.0185L167.717 24.967H166.541V33.1924Z"
          fill="white"
        />
      </svg> */}
    </Box>
  );
};

const NavItem = (props: any) => {
  const router = useRouter();
  const { icon, href, children, ...rest } = props;
  const isActive = router.route === href ? true : false;

  return (
    <Flex
      position="relative"
      align="center"
      borderRadius="15px 0 0 15px"
      py="3"
      my="1.5"
      cursor="pointer"
      color="#fff"
      role="group"
      fontWeight="500"
      transition=".15s ease"
      zIndex={isActive ? "" : 2}
      {...rest}
      _after={{
        borderBottom: isActive ? "2px solid white" : "2px solid transparent",
        content: '""',
        width: "100%",
        position: "absolute",
        bottom: 1,
      }}
    >
      {icon && <Icon mr="4" boxSize="4" as={icon} />}
      {children}
    </Flex>
  );
};

const Menu = ({ isOpen, onClose }: any) => {
  const router = useRouter();
  React.useEffect(() => {
    isOpen && onClose();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [router]);

  return (
    <VStack
      zIndex={9999}
      pos="absolute"
      top={0}
      left={0}
      right={0}
      display={isOpen ? "flex" : "none"}
      flexDirection="column"
      p={2}
      pb={4}
      m={2}
      bg="primary"
      spacing={3}
      rounded="sm"
      shadow="sm"
    >
      <CloseButton
        aria-label="Close menu"
        justifySelf="self-start"
        onClick={onClose}
        pos="absolute"
        right="25px"
        top="20px"
        color="white"
      />
      <Flex px="2" py="2" align="center">
        <Logo />
      </Flex>
      <UserProfile />
      <Flex direction="column" as="nav" aria-label="side-navigation">
        <Link href="/" passHref>
          <NavItem icon={EventIcon} href="/">
            Эвэнтүүд
          </NavItem>
        </Link>
        {/* <Link href="/userinfo" passHref>
          <NavItem icon={DocIcon} href="/">
            Хувийн мэдээ
          </NavItem>
        </Link> */}
        <Link href="/athletes" passHref>
          <NavItem icon={DocIcon} href="/">
            Гишүүдийн жагсаалт
          </NavItem>
        </Link>
        <Link href="/teams" passHref>
          <NavItem icon={TeamIcon} href="/teams">
            Багуудын жагсаалт
          </NavItem>
        </Link>
        <Link href="/registertourney" passHref>
          <NavItem icon={RegisterIcon} href="/registertourney">
            Тэмцээнд бүртгүүлэх
          </NavItem>
        </Link>
        <Link href="/payment" passHref>
          <NavItem icon={PaymentIcon} href="/registertourney">
            Төлбөр
          </NavItem>
        </Link>
      </Flex>
    </VStack>
  );
};

export default Menu;
